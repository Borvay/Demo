<!DOCTYPE html>
<html>

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <title>世界时间</title>
    <meta name="author" content="Borvay 李博为"/>
</head>

<body>
<h1></h1>

<div id="Local"></div>
<div id="Delhi"></div>
<div id="Sydney"></div>
<div id="Singapore"></div>
<div id="Tokyo"></div>
<div id="London"></div>
<div id="Washington"></div>
<div id="Reykjavik"></div>
<div id="Cairo"></div>

<script language="javascript" type="text/javascript">
    function calcTime(city, offset) {
        var d = new Date();
        utc = d.getTime() + (d.getTimezoneOffset() * 60000);
        var nd = new Date(utc + (3600000 * offset));
        var gmtTime = new Date(utc)
        var day = nd.getDate();
        var month = nd.getMonth();
        var year = nd.getYear();
        var hr = nd.getHours(); //+ offset
        var min = nd.getMinutes();
        var sec = nd.getSeconds();
        if(year < 1000){
            year += 1900
        }
        var monthArray = new Array("January", "February", "March", "April", "May", "June", "July", "August",
            "September", "October", "November", "December")
        var monthDays = new Array("31", "28", "31", "30", "31", "30", "31", "31", "30", "31", "30", "31")
        if (year%4 == 0){
            monthDays = new Array("31", "29", "31", "30", "31", "30", "31", "31", "30", "31", "30", "31")
        }
        if(year%100 == 0 && year%400 != 0){
            monthDays = new Array("31", "28", "31", "30", "31", "30", "31", "31", "30", "31", "30", "31")
        }
        if (hr >= 24){
            hr = hr-24
            day -= -1
        }
        if (hr < 0){
            hr -= -24
            day -= 1
        }
        if (hr < 10){
            hr = " " + hr
        }
        if (min < 10){
            min = "0" + min
        }
        if (sec < 10){
            sec = "0" + sec
        }
        if (day <= 0){
            if (month == 0){
                month = 11
                year -= 1
            }
            else{
                month = month -1
            }
            day = monthDays[month]
        }
        if(day > monthDays[month]){
            day = 1
            if(month == 11){
                month = 0
                year -= -1
            }
            else{
                month -= -1
            }
        }



        return city+":The local time is"+monthArray[month] + " " + day + ", " + year + "<br>" + hr + ":" + min + ":" + sec

        //return "The local time in " + city + " is " + nd.toLocaleString()+;
    }
    function worldClockZone(){
        document.getElementById('Local').innerHTML = "The local time is " + (new Date()).toLocaleString();
        document.getElementById('Delhi').innerHTML = calcTime('Delhi', '+2');
        document.getElementById('Sydney').innerHTML = calcTime('Sydney', '+5.5');
        document.getElementById('Singapore').innerHTML = calcTime('Singapore', '+8');
        document.getElementById('Tokyo').innerHTML = calcTime('Tokyo', '-3');
        document.getElementById('London').innerHTML =calcTime('London', '+1');
        document.getElementById('Washington').innerHTML =calcTime('Washington', '+12');
        document.getElementById('Reykjavik').innerHTML =calcTime('Reykjavik', '+10');
        document.getElementById('Cairo').innerHTML =calcTime('Cairo', '-24');
        setTimeout("worldClockZone()", 1000)
    }
    window.onload=worldClockZone;
</script>
<hr/>
<address></address>
<!-- hhmts start --> Last modified: Mon August 14 00:00:00  2017 <!-- hhmts end -->
</body>

</html>